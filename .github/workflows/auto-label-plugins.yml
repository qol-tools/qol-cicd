name: Auto-label qol-tray plugins

on:
  repository:
    types: [created]

jobs:
  label-plugin:
    runs-on: ubuntu-latest
    if: startsWith(github.event.repository.name, 'plugin-')
    steps:
      - name: Add plugin topic
        env:
          GH_TOKEN: ${{ secrets.ORG_PAT }}
        run: |
          REPO="${{ github.event.repository.full_name }}"
          TOPIC="qol-tray-plugin"
          
          echo "Adding topic '$TOPIC' to $REPO"
          gh repo edit "$REPO" --add-topic "$TOPIC"

